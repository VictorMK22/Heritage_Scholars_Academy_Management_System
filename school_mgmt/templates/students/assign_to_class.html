{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>Assign Students to Class</h2>
    <form method="post">
        {% csrf_token %}
        
        <div class="mb-3">
            <label for="class_id" class="form-label">Select Class</label>
            <select class="form-select" id="class_id" name="class_id" required>
                <option value="">-- Select a class --</option>
                {% for class in classes %}
                <option value="{{ class.id }}">{{ class.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mb-3">
            <label class="form-label">Select Students</label>
            <div class="student-list border p-3" style="max-height: 400px; overflow-y: auto;">
                {% for student in students %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" 
                           name="student_ids" value="{{ student.pk }}" 
                           id="student_{{ student.pk }}">
                    <label class="form-check-label" for="student_{{ student.pk }}">
                        {{ student.user.get_full_name }} ({{ student.admission_number }})
                    </label>
                </div>
                {% empty %}
                <p>No unassigned students found.</p>
                {% endfor %}
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Assign Selected Students</button>
    </form>
</div>
{% endblock %}